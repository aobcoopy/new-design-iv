if(jQuery){;(function($){'use strict';var ScrollScope=function(options){var self=this;self.mainContainer=null;self.selector=null;self.settings=$.extend({elements:'[data-scroll-scope]',forcedElements:'[data-scroll-scope="force"]',events:'DOMMouseScroll mousewheel scroll touchstart touchmove'},(options&&(options.elements||options.forcedElements||options.events)?options:{}));self.getTargetedElements=function(){return self.mainContainer.find(self.selector);};self.getSelector=function(selectors){var legits=[];for(var i=0;i<selectors.length;i++){if(selectors[i]&&selectors[i].length){legits.push(selectors[i]);}}return legits.length?legits.join(', '):null;};self.normalizeJqueryObject=function(container){if(container){return(container instanceof jQuery)?container:$(container);}return null;};self.killScrolling=function(event,force){if(force||(event.type!=='touchmove'&&event.type!=='touchstart')){event.preventDefault();event.stopPropagation();event.returnValue=false;return false;}};self.onScroll=function(event){if(event.isLegitScroll){return true;}var element=$(this);var force=(self.settings.forcedElements&&element.is(self.settings.forcedElements));var scrollHeight=this.scrollHeight;var apparentHeight=element.outerHeight();var scrollingLeft=scrollHeight-apparentHeight-this.scrollTop;if(scrollHeight<=apparentHeight){if(force&&event.type!=='touchstart'){return self.killScrolling(event,force);}return true;}var delta=event.originalEvent.wheelDelta;if(force&&typeof delta==='undefined'&&(event.type==='touchstart')){if(this.scrollTop<=0){element.scrollTop(1);}else if(scrollingLeft<=0){element.scrollTop(scrollHeight-apparentHeight-1);}}var goingUp=delta>0;if(!goingUp&&-delta>scrollingLeft){element.scrollTop(this.scrollHeight);return self.killScrolling(event,force);}else if(goingUp&&delta>this.scrollTop){element.scrollTop(0);return self.killScrolling(event,force);}event.isLegitScroll=true;return true;};self.unbind=function(){if(self.mainContainer){self.mainContainer.off(self.settings.events,self.selector,self.onScroll);}return self;};self.bind=function(container){container=self.normalizeJqueryObject(container);if(container){self.unbind();}self.mainContainer=container;self.mainContainer.on(self.settings.events,self.selector,self.onScroll);return self;};self.settings.elements=self.getSelector([self.settings.elements]);self.settings.forcedElements=self.getSelector([self.settings.forcedElements]);self.selector=self.getSelector([self.settings.elements,self.settings.forcedElements]);};if(typeof define==='function'&&typeof define.amd==='object'&&define.amd){define(function(){return ScrollScope;});}else if(typeof module!=='undefined'&&module.exports){module.exports=ScrollScope;}else{window.ScrollScope=ScrollScope;(function($){$.fn.scrollScope=function(options){var obj=new ScrollScope(options);obj.bind(this);return obj.mainContainer;};}($));}}(jQuery));}